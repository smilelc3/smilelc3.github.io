<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 8.1.1">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"liuchang.men","root":"/","images":"/images","scheme":"Muse","darkmode":true,"version":"8.27.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"language":false,"highlight_theme":"night"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.json","localsearch":{"enable":true,"top_n_per_article":1,"unescape":true,"preload":true}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="smile&#39;s blog">
<meta property="og:type" content="website">
<meta property="og:title" content="生命不息，奋斗不止">
<meta property="og:url" content="https://liuchang.men/page/12/index.html">
<meta property="og:site_name" content="生命不息，奋斗不止">
<meta property="og:description" content="smile&#39;s blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="smile">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://liuchang.men/page/12/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/12/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>生命不息，奋斗不止</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.5.0/search.js" integrity="sha256-xFC6PJ82SL9b3WkGjFavNiA9gm5z6UBxWPiu4CYjptg=" crossorigin="anonymous" defer></script>
<script src="/js/third-party/search/local-search.js" defer></script>




  <script src="/js/third-party/fancybox.js" defer></script>



  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"ams","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js" defer></script>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/quicklink/3.0.1/quicklink.umd.js" integrity="sha256-44BednzIpUeQJcY8qtLyarFu0UCCTbgmWOvaoehiFQQ=" crossorigin="anonymous" defer></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":false,"home":false,"archive":false,"delay":true,"timeout":3000,"priority":true,"url":"https://liuchang.men/page/12/"}</script>
  <script src="/js/third-party/quicklink.js" defer></script>

  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">生命不息，奋斗不止</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">smile</p>
  <div class="site-description" itemprop="description">smile's blog</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">60</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/smilelc3" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;smilelc3" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:smile@liuchang.men" title="E-Mail → mailto:smile@liuchang.men" rel="noopener me"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://liuchang.men/2017/08/10/ubuntu17.04%E7%8E%AF%E5%A2%83%E4%B8%8Bopencv3.2.0%E9%85%8D%E7%BD%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="smile">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生命不息，奋斗不止">
      <meta itemprop="description" content="smile's blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | 生命不息，奋斗不止">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/08/10/ubuntu17.04%E7%8E%AF%E5%A2%83%E4%B8%8Bopencv3.2.0%E9%85%8D%E7%BD%AE/" class="post-title-link" itemprop="url">ubuntu17.04环境下opencv3.2.0配置</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-08-11 00:00:00" itemprop="dateCreated datePublished" datetime="2017-08-11T00:00:00+08:00">2017-08-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2026-02-01 09:23:06" itemprop="dateModified" datetime="2026-02-01T09:23:06+08:00">2026-02-01</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.2k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img data-src="https://raw.githubusercontent.com/smilelc3/blog/main/images/ubuntu17.04环境下opencv3.2.0配置\logo-1.jpg" /></p>
<h1 id="实验环境">实验环境</h1>
<ul>
<li>CPU：Ryzen 1800x</li>
<li>系统：ubuntu 17.04 64bit</li>
<li>软件环境：python2.7 + python3.5 + cuda开发环境（cuda8.0 cuddn
5.1）</li>
</ul>
<p>因实验要求，需要对图片进行灰度编码，自然而然想到利用openCV库结合python进行，但由于系统较新，且网上教程多为老版本，新教程也有些小错误，特记下配置过程</p>
<ul>
<li>预配置环境：openCV 3.2.0(cuda加速+python3环境+contrib扩展包)</li>
</ul>
<h1 id="opencv基础环境配置">openCV基础环境配置</h1>
<ol type="1">
<li>对源的更新</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get uupdate</span><br><span class="line"><span class="built_in">sudo</span> apt-get update</span><br></pre></td></tr></table></figure>
<ol start="2" type="1">
<li>环境搭建</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get install build-essential cmake cmake-qt-gui pkg-config git</span><br></pre></td></tr></table></figure>
<ol start="3" type="1">
<li>图像格式相关</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get install libpng-dev libjpeg-dev libtiff5-dev</span><br></pre></td></tr></table></figure>
<ol start="4" type="1">
<li>GUI相关</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get install libgtk2.0-dev</span><br></pre></td></tr></table></figure>
<ol start="5" type="1">
<li>视频格式相关</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get install libavcodec-dev libavformat-dev libswscale-dev libv4l-dev</span><br></pre></td></tr></table></figure>
<ol start="6" type="1">
<li>C++多线程相关</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get install libtbb2 libtbb-dev</span><br></pre></td></tr></table></figure>
<ol start="7" type="1">
<li>摄像头相关</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get install libdc1394-22-dev</span><br></pre></td></tr></table></figure>
<ol start="8" type="1">
<li>openGL相关</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get install libgtkglext1 libgtkglext1-dev</span><br></pre></td></tr></table></figure>
<p><strong>注意：</strong>针对可选安装<strong>libjasper-dev</strong>包，该包是针对图像格式JPEG-2000的开发包。在最新的ubuntu17.04中，已放弃对该包的安装支持，如涉及到对该格式的处理，可以到<a
target="_blank" rel="noopener" href="https://packages.ubuntu.com/trusty/libjasper-dev"
class="uri">https://packages.ubuntu.com/trusty/libjasper-dev</a>
ubuntu的官方包管理网址获取，该包需要依赖包libjasper1，请一并下载。但两包无法直接通过ubuntu软件安装器安装，可以通过dpkg命令安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> dpkg -i &lt;package.deb&gt;</span><br></pre></td></tr></table></figure>
<h1 id="opencv下载与本地编译">openCV下载与本地编译</h1>
<p>这次安装版本为3.2.0，需要下载<strong>opencv-3.2.0</strong>与<strong>opencv_contrib-3.2.0</strong>（后者会在cmake配置的时候用到），这是因为opencv3以后<strong>SIFT</strong>和<strong>SURF</strong>之类的属性被移到了contrib中。</p>
<p><strong>下载采用wget命令：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 从github上直接下载或者clone也可</span></span><br><span class="line">wget https://github.com/opencv/opencv/archive/3.2.0.zip -O opencv-3.2.0.zip</span><br><span class="line">wget https://github.com/opencv/opencv_contrib/archive/3.2.0.zip -O opencv_contrib-3.2.0.zip</span><br></pre></td></tr></table></figure>
<p><strong>分别解压文件：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">unzip opencv-3.2.0.zip</span><br><span class="line">unzip opencv_contrib-3.2.0.zip</span><br></pre></td></tr></table></figure>
<p>获得<strong>opencv-3.2.0</strong>与<strong>opencv_contrib-3.2.0</strong>两个文件夹，打开opencv3.2.0文件夹</p>
<p><strong>新建build文件夹，作为编译文件路径：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> opencv-3.2.0</span><br><span class="line"><span class="built_in">mkdir</span> build</span><br></pre></td></tr></table></figure>
<p><strong>打开cmake图形界面：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> cmake-gui</span><br></pre></td></tr></table></figure>
<ol type="1">
<li>打开cmake图形界面，源码位置设置为opencv-3.2.0文件夹，binaries(二进制文件)位置设为新建build文件夹位置；</li>
<li>在search框输入opengl，勾选上（为了避免opengl版本问题导致的不兼容，这里最好选择使用opencv自带的openGL；</li>
<li>在search框输入opencv_extra_modules_path，在后面value值处填上两个包中另一个opencv_contrib-3.2.0下modules的路径；</li>
<li>然后点击configure，cmake会自动进行参数检测，并下载一些相关包；</li>
</ol>
<p><strong>注意：</strong>可能遇到ippicv_linux_20151201.tgz文件下载失败的问题，（墙的原因），解决办法为百度搜索下载（例如CSDN下载<a
target="_blank" rel="noopener" href="http://download.csdn.net/download/lx928525166/9479919"
class="uri">http://download.csdn.net/download/lx928525166/9479919</a>，并cp命令复制到/opencv-3.2.0/3rdparty/ippicv/downloads/linux-808b791a6eac9ed78d32a7666804320e文件夹下。（最后一个文件夹名可能不一样）</p>
<ol start="5" type="1">
<li>最后cmake中点击Generate，生成编译文件；</li>
<li>然后cd命令进build文件夹</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> make -j16 <span class="comment"># -j后面数字为采用线程数，根据个人配置而定</span></span><br><span class="line"><span class="built_in">sudo</span> make install</span><br></pre></td></tr></table></figure>
<ol start="7" type="1">
<li>进度到100%表示安装成功。</li>
</ol>
<h1 id="python环境的绑定">python环境的绑定</h1>
<p>我们已经成功安装openCV，且在配置时openCV会自动与python进行绑定，我们可以通过以下方式进行测试：</p>
<ol type="1">
<li><p>重启</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> reboot</span><br></pre></td></tr></table></figure>
<p>sudo reboot</p></li>
<li><p>测试，在python中，若无报错，即可认为绑定成功。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br></pre></td></tr></table></figure></li>
</ol>
<p>我们也可以通过安装预编译的第三方所提供的openCV</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install opencv-python opencv-contrib-python</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://liuchang.men/2017/07/08/python+opencv%20%E6%A3%80%E6%B5%8B%E5%92%8C%E8%B7%9F%E8%B8%AA%E8%BF%90%E5%8A%A8%E7%89%A9%E4%BD%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="smile">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生命不息，奋斗不止">
      <meta itemprop="description" content="smile's blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | 生命不息，奋斗不止">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/07/08/python+opencv%20%E6%A3%80%E6%B5%8B%E5%92%8C%E8%B7%9F%E8%B8%AA%E8%BF%90%E5%8A%A8%E7%89%A9%E4%BD%93/" class="post-title-link" itemprop="url">python+opencv 检测和跟踪运动物体</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-07-09 00:00:00" itemprop="dateCreated datePublished" datetime="2017-07-09T00:00:00+08:00">2017-07-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2026-02-01 09:23:06" itemprop="dateModified" datetime="2026-02-01T09:23:06+08:00">2026-02-01</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.8k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>3 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="效果展示">效果展示</h1>
<p><img data-src="https://raw.githubusercontent.com/smilelc3/blog/main/images/python+opencv%20检测和跟踪运动物体/20170709145619-高质量和大小_1-AVC-高质量和大小.mp4_20170709_155500.960.jpg" /></p>
<p><strong>最终效果视频</strong></p>
<video src="https://raw.githubusercontent.com/smilelc3/blog/main/images/python+opencv%20检测和跟踪运动物体/20170709145619-高质量和大小_1-AVC-高质量和大小.mp4" controls preload="metadata">
</video>
<p><strong>监控+差值+黑白二值图像</strong></p>
<video src="https://raw.githubusercontent.com/smilelc3/blog/main/images/python+opencv%20检测和跟踪运动物体/20170709145619-高质量和大小-AVC-高质量和大小.mp4" controls preload="metadata">
</video>
<h1 id="代码">代码</h1>
<ul>
<li>该程序<strong>计算量要求较低</strong>，可以部署在<strong>树莓派</strong>类的物联网设备上</li>
</ul>
<h2 id="python包配置">python包配置</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pip install argparse <span class="comment">#用于解析参数</span></span><br><span class="line"><span class="built_in">sudo</span> pip install imutils <span class="comment">#用于修改图片格式大小</span></span><br><span class="line"><span class="built_in">sudo</span> apt-get install libopencv-dev  </span><br><span class="line"><span class="built_in">sudo</span> apt-get install python-opencv  <span class="comment">#安装opencv</span></span><br></pre></td></tr></table></figure>
<h2 id="python代码">python代码</h2>
<p>代码写的相当详细，注释的极其详细，不再赘述。（python版本2.7）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding:utf-8</span></span><br><span class="line"><span class="comment">#必要的包</span></span><br><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">import</span> imutils</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建参数解释器并解析参数</span></span><br><span class="line">ap = argparse.ArgumentParser()</span><br><span class="line">ap.add_argument(<span class="string">&quot;-v&quot;</span>, <span class="string">&quot;--video&quot;</span>, <span class="built_in">help</span>=<span class="string">&quot;path to the video file&quot;</span>)</span><br><span class="line">ap.add_argument(<span class="string">&quot;-a&quot;</span>, <span class="string">&quot;--min-area&quot;</span>, <span class="built_in">type</span>=<span class="built_in">int</span>, default=<span class="number">1000</span>, <span class="built_in">help</span>=<span class="string">&quot;minimum area size&quot;</span>)</span><br><span class="line">args = <span class="built_in">vars</span>(ap.parse_args())</span><br><span class="line"></span><br><span class="line"><span class="comment">#如果video参数为None, 那么我们从摄像头读取数据</span></span><br><span class="line"><span class="keyword">if</span> args.get(<span class="string">&quot;video&quot;</span>, <span class="literal">None</span>) <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">    camera = cv2.VideoCapture(<span class="number">0</span>)</span><br><span class="line">    originaltime = time.time()<span class="comment">#记录时间</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    camera = cv2.VideoCapture(args[<span class="string">&quot;video&quot;</span>])</span><br><span class="line"><span class="comment">#初始化视频流的第一帧</span></span><br><span class="line">firstFrame = <span class="literal">None</span></span><br><span class="line">num=<span class="number">0</span></span><br><span class="line"><span class="comment">#遍历视频的每一帧</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">if</span> time.time()-originaltime &lt;= <span class="number">2</span>:  <span class="comment">#等待摄像机开启并稳定</span></span><br><span class="line">        (grabbed, frame) = camera.read()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        (grabbed, frame) = camera.read()</span><br><span class="line">        <span class="comment">#调用camera.read()返回一个２元组。元组第一个值是grabbed，表明是否成功从缓冲中读取frame。元组第二个值为frame本身</span></span><br><span class="line">        text = <span class="string">&quot;not exist&quot;</span></span><br><span class="line">        <span class="comment">#表明正在监控的房间“没有被占领”。如果确实有活动，就更新该字符串</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> grabbed:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="comment">#调整该帧的大小，转换为灰阶图像并且对其进行高斯模糊</span></span><br><span class="line">        frame = imutils.resize(frame, width = <span class="number">500</span>)</span><br><span class="line">        gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)<span class="comment">#灰阶图片</span></span><br><span class="line">        gray = cv2.GaussianBlur(gray, (<span class="number">21</span>, <span class="number">21</span>), <span class="number">0</span>)<span class="comment">#高斯模糊</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#如果第一帧是None, 对其进行初始化</span></span><br><span class="line">        <span class="keyword">if</span> firstFrame <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            firstFrame = gray</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#计算当前帧和第一帧的不同</span></span><br><span class="line">        frameDelta = cv2.absdiff(firstFrame, gray)<span class="comment">#两幅图的差的绝对值输出到另一幅图上面来</span></span><br><span class="line"></span><br><span class="line">        thresh = cv2.threshold(frameDelta, <span class="number">25</span>, <span class="number">255</span>, cv2.THRESH_BINARY)[<span class="number">1</span>]<span class="comment">#黑白二值化</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#扩展阈值图像填充孔洞，然后找到阈值图像上的轮廓</span></span><br><span class="line">        thresh = cv2.dilate(thresh, <span class="literal">None</span>, iterations = <span class="number">2</span>)<span class="comment">#图像膨胀</span></span><br><span class="line">        (cnts, _) = cv2.findContours(thresh.copy(), cv2.RETR_EXTERNAL,</span><br><span class="line">                                     cv2.CHAIN_APPROX_SIMPLE</span><br><span class="line">                                     )<span class="comment">#findcontours函数会“原地”修改输入的图像,只检测的外轮廓，仅保存矩形４个顶点</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">#遍历轮廓</span></span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> cnts:</span><br><span class="line">            <span class="comment">#如果轮廓太小，忽视轮廓</span></span><br><span class="line">            <span class="keyword">if</span> cv2.contourArea(c)&lt;args[<span class="string">&quot;min_area&quot;</span>]:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">#计算轮廓边界，在当前帧中画出该框，并更新text</span></span><br><span class="line">            (x, y, w, h) = cv2.boundingRect(c)</span><br><span class="line">            cv2.rectangle(frame, (x, y), (x + w,y + h), (<span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>), <span class="number">2</span>)</span><br><span class="line">            text = <span class="string">&quot;exist&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#在当前帧上写文字以及时间戳</span></span><br><span class="line">        cv2.putText(frame, <span class="string">&quot;room stats:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(text), (<span class="number">10</span>, <span class="number">20</span>),</span><br><span class="line">                    cv2.FONT_HERSHEY_SIMPLEX, <span class="number">0.5</span>, (<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">1</span>)</span><br><span class="line">        cv2.putText(frame, datetime.datetime.now().strftime(<span class="string">&quot;%A %d %B %Y %I:%M:%S%p&quot;</span>),</span><br><span class="line">                    (<span class="number">10</span>, frame.shape[<span class="number">0</span>] - <span class="number">10</span>), cv2.FONT_HERSHEY_SIMPLEX, <span class="number">0.4</span>, (<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">#显示当前帧</span></span><br><span class="line">        cv2.imshow(<span class="string">&quot;二值化图像&quot;</span>, thresh)</span><br><span class="line">        cv2.imshow(<span class="string">&quot;差值图像&quot;</span>, frameDelta)</span><br><span class="line">        cv2.imshow(<span class="string">&quot;监控&quot;</span>, frame)</span><br><span class="line">        cv2.waitKey(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">#对环境渐变的适应</span></span><br><span class="line">        flag = <span class="literal">True</span><span class="comment">#标记是否值得更新（第一帧）背景帧</span></span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> cnts:</span><br><span class="line">            <span class="keyword">if</span> cv2.contourArea(c)&gt;args[<span class="string">&quot;min_area&quot;</span>]//<span class="number">4</span>:</span><br><span class="line">                flag = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">if</span>  flag <span class="keyword">is</span> <span class="literal">True</span>:<span class="comment">#新背景＝旧背景＊(1-0.618)＋当前无物体背景＊(0.618)</span></span><br><span class="line">            firstFrame = cv2.addWeighted(firstFrame, <span class="number">1</span>-<span class="number">0.618</span>, gray, <span class="number">0.618</span>, <span class="number">0.0</span>)</span><br><span class="line">        <span class="comment">#cv2.imwrite(&quot;Security Feed.png&quot;, frame)</span></span><br><span class="line">        <span class="comment">#cv2.imwrite(&quot;Thresh.png&quot;, thresh)</span></span><br><span class="line">        <span class="comment">#cv2.imwrite(&quot;Frame delta.png&quot;, frameDelta)</span></span><br><span class="line">        <span class="comment">#cv2.waitKey(0)</span></span><br><span class="line"><span class="comment">#清理摄像机资源并关闭打开的窗口</span></span><br><span class="line">camera.release()</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://liuchang.men/2017/06/30/%E6%A0%91%E8%8E%93%E6%B4%BE(%E4%B8%80%E4%BB%A3B+%E7%89%88)+%E7%BA%A2%E5%A4%96%E6%94%B6%E5%8F%91%E7%AE%A1+%E6%99%BA%E8%83%BD%E5%B0%8F%E8%BD%A6%E2%80%94%E2%80%94%E5%AE%9E%E7%8E%B0%E5%B0%8F%E8%BD%A6%E8%BF%9C%E7%A8%8B%E6%8E%A7%E5%88%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="smile">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生命不息，奋斗不止">
      <meta itemprop="description" content="smile's blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | 生命不息，奋斗不止">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/06/30/%E6%A0%91%E8%8E%93%E6%B4%BE(%E4%B8%80%E4%BB%A3B+%E7%89%88)+%E7%BA%A2%E5%A4%96%E6%94%B6%E5%8F%91%E7%AE%A1+%E6%99%BA%E8%83%BD%E5%B0%8F%E8%BD%A6%E2%80%94%E2%80%94%E5%AE%9E%E7%8E%B0%E5%B0%8F%E8%BD%A6%E8%BF%9C%E7%A8%8B%E6%8E%A7%E5%88%B6/" class="post-title-link" itemprop="url">树莓派(一代B+版)+红外收发管+智能小车——实现小车远程控制</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-07-01 00:00:00" itemprop="dateCreated datePublished" datetime="2017-07-01T00:00:00+08:00">2017-07-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2026-02-01 09:23:06" itemprop="dateModified" datetime="2026-02-01T09:23:06+08:00">2026-02-01</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>4.5k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>4 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>前段时间的，新生工程体验课上，两人一组，靠厂家提供的元器件和烧录代码，焊接了了一台智能小车。</p>
<p>最进，碰巧手头有空闲的一块树莓派，本来打算用树莓派去实现远程控制空调，但发现空调的红外编码带有逻辑控制，只能退而求其次，试试远程控制小车，大体框架结构如图。</p>
<hr />
<p>2017-07-03更新，已经实现对空调类带逻辑编码设备的简单控制。</p>
<hr />
<p><img data-src="https://raw.githubusercontent.com/smilelc3/blog/main/images/树莓派(一代B+版)+红外收发管+智能小车——实现小车远程控制/unnamed-file%20%5B原始大小%5D.jpg" /></p>
<h1 id="烧录系统">烧录系统</h1>
<p>几乎所有的新手教程都使用<a
target="_blank" rel="noopener" href="https://sourceforge.net/projects/win32diskimager/">Win32DiskImager</a>作为系统安装工具——中文的、英文的、官方的、eLinux
wiki的，不一而足。
但是这个工具不支持中文目录名（文件或目录有中文，会出现123错误），不支持压缩，必须先插好SD卡，再开软件。
而<a
target="_blank" rel="noopener" href="https://www.techspot.com/downloads/6355-usb-image-tool.html">USB
Image Tool</a>，就是Win32DiskImager的一个更方便的替代品。</p>
<p><img data-src="https://raw.githubusercontent.com/smilelc3/blog/main/images/树莓派(一代B+版)+红外收发管+智能小车——实现小车远程控制/20130831204912500-0-1.jpg" /></p>
<h2 id="写sd卡直接读取zip压缩包">写SD卡：直接读取zip压缩包</h2>
<p>USB Image
Tool可以直读.zip压缩包。网上下载的zip格式系统镜像，下完直接可以烧录。
点击<strong>Restore</strong>，选择.zip文件即可。注意打开对话框中默认看不到.zip文件，在“文件类型”处选择“<strong>All
Files (<em>.</em>)</strong>”即可。</p>
<h2 id="ssh无法连接问题">SSH无法连接问题</h2>
<p>自从2016年11月开始，树莓派官方推荐 <a
target="_blank" rel="noopener" href="https://www.raspberrypi.org/downloads/raspbian/">Raspbian</a>
系统镜像关闭了默认<em>ssh</em>连接，重新开启也很简单，把SD卡拔下来，进入到根目录，新建一个名为<em>ssh</em>的空白文件(无后缀)就可以。</p>
<p>好了然后再把卡插回树莓派，就可以使用SSH了。</p>
<ul>
<li>初始用户名：<strong>pi</strong></li>
<li>初始密码：<strong>raspberry</strong></li>
</ul>
<h1
id="将红外接受管和发射管连接至树莓派gpio接口">将红外接受管和发射管连接至树莓派GPIO接口</h1>
<p><strong>材料：</strong></p>
<p>红外接受管（3pin），红外接受管（2pin）,杜邦线若干。</p>
<p>根据不同树莓派版本，查看GPIO的引线图，该实验采用B+版，具体实物对应图和<strong>GPIO</strong>与pin对应图如下图：</p>
<p><img data-src="https://raw.githubusercontent.com/smilelc3/blog/main/images/树莓派(一代B+版)+红外收发管+智能小车——实现小车远程控制/6619373360026755635-1.jpg" /></p>
<p><img data-src="https://raw.githubusercontent.com/smilelc3/blog/main/images/树莓派(一代B+版)+红外收发管+智能小车——实现小车远程控制/c259e358ccbf6c813fdb4c76bb3eb13531fa409f-1.png" /></p>
<h2 id="硬件连接">硬件连接</h2>
<p><strong>红外接收器</strong></p>
<ul>
<li><p>vcc 连 pin1 (3.3v)</p></li>
<li><p>gnd 连 pin6(ground)</p></li>
<li><p>data 连 pin12(gpio18)</p></li>
</ul>
<p><strong>红外发射器</strong></p>
<ul>
<li><p>gnd 连 pin25(ground)</p></li>
<li><p>data 连 pin11(gpio17)</p></li>
</ul>
<p><strong>红外接受器规格见图，左引脚为data，中为接地，右为3.3V供电</strong></p>
<p><img data-src="https://raw.githubusercontent.com/smilelc3/blog/main/images/树莓派(一代B+版)+红外收发管+智能小车——实现小车远程控制/20120921154663386338-1.jpg" /></p>
<p><strong>红外发射器规格见图，长脚为data,短脚为接地</strong></p>
<p><img data-src="https://raw.githubusercontent.com/smilelc3/blog/main/images/树莓派(一代B+版)+红外收发管+智能小车——实现小车远程控制/201453125427363-1.jpg" /></p>
<p>接收器和发射器通过杜邦线跟树莓派相连，最后的连接实物图</p>
<p><img data-src="https://raw.githubusercontent.com/smilelc3/blog/main/images/树莓派(一代B+版)+红外收发管+智能小车——实现小车远程控制/20170701222333.jpg" /></p>
<h1 id="预先解析控制码">预先解析控制码</h1>
<h2 id="修改-raspbian-仓库默认源">修改 raspbian 仓库默认源</h2>
<ol type="1">
<li>修改apt源</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> nano /etc/apt/sources.list</span><br></pre></td></tr></table></figure>
<p>例如使用大连东软信息学院软件源镜像，修改之后的内容如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deb http://mirrors.aliyun.com/raspbian/raspbian jessie main contrib non-free rpi</span><br></pre></td></tr></table></figure>
<p>其他可用源如下：</p>
<ul>
<li><p>中国科学技术大学 Raspbian <a
target="_blank" rel="noopener" href="http://mirrors.ustc.edu.cn/raspbian/raspbian/"
class="uri">http://mirrors.ustc.edu.cn/raspbian/raspbian/</a></p></li>
<li><p>阿里云 Raspbian <a
target="_blank" rel="noopener" href="http://mirrors.aliyun.com/raspbian/raspbian/"
class="uri">http://mirrors.aliyun.com/raspbian/raspbian/</a></p></li>
<li><p>清华大学 Raspbian <a
target="_blank" rel="noopener" href="http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/"
class="uri">http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/</a></p></li>
<li><p>华中科技大学 Raspbian <a
target="_blank" rel="noopener" href="http://mirrors.hustunique.com/raspbian/raspbian/"
class="uri">http://mirrors.hustunique.com/raspbian/raspbian/</a> Arch
Linux ARM <a target="_blank" rel="noopener" href="http://mirrors.hustunique.com/archlinuxarm/"
class="uri">http://mirrors.hustunique.com/archlinuxarm/</a></p></li>
<li><p>华南农业大学（华南用户） Raspbian <a
target="_blank" rel="noopener" href="http://mirrors.scau.edu.cn/raspbian/"
class="uri">http://mirrors.scau.edu.cn/raspbian/</a></p></li>
<li><p>大连东软信息学院源（北方用户） Raspbian <a
target="_blank" rel="noopener" href="http://mirrors.neusoft.edu.cn/raspbian/raspbian/"
class="uri">http://mirrors.neusoft.edu.cn/raspbian/raspbian/</a></p></li>
<li><p>重庆大学源（中西部用户）</p>
<p>Raspbian <a target="_blank" rel="noopener" href="http://mirrors.cqu.edu.cn/Raspbian/raspbian/"
class="uri">http://mirrors.cqu.edu.cn/Raspbian/raspbian/</a></p></li>
</ul>
<ol start="2" type="1">
<li>更新软件源和软件</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更新软件源</span></span><br><span class="line"><span class="built_in">sudo</span> apt-get update</span><br><span class="line"><span class="comment"># 更新软件</span></span><br><span class="line"><span class="built_in">sudo</span> apt-get upgrade</span><br></pre></td></tr></table></figure>
<h2 id="更换vi文本编译器为vim">更换vi文本编译器为vim</h2>
<p>因为vi在insert模式下，方向键会变为ABCD，故用vim进行替换</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#卸载vi</span></span><br><span class="line"><span class="built_in">sudo</span> apt-get remove vi-common</span><br><span class="line"><span class="comment">#安装vim</span></span><br><span class="line"><span class="built_in">sudo</span> apt-get install -y vim</span><br></pre></td></tr></table></figure>
<h2 id="安装lirc">安装lirc</h2>
<p>LIRC (<em>Linux Infrared remote
control</em>)是一个linux系统下开源的软件包。这个软件可以让Linux系统接收及发送红外线信号。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get install lirc</span><br></pre></td></tr></table></figure>
<p><strong>配置硬件</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># sudo vim /boot/config.txt #在文件结尾添加</span></span><br><span class="line"><span class="comment"># 修改一下内容</span></span><br><span class="line">dtoverlay=lirc-rpi</span><br><span class="line">gpio_in_pin=18</span><br><span class="line">gpio_out_pin=17</span><br><span class="line"></span><br><span class="line"><span class="comment"># sudo vim /etc/lirc/hardware.conf  #编辑LRIC的配置文件</span></span><br><span class="line"><span class="comment"># 修改以下内容</span></span><br><span class="line">LIRCD_ARGS=<span class="string">&quot;--uinput&quot;</span></span><br><span class="line">DRIVER=<span class="string">&quot;default&quot;</span></span><br><span class="line">DEVICE=<span class="string">&quot;/dev/lirc0&quot;</span></span><br><span class="line">MODULES=<span class="string">&quot;lirc_rpi&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启生效</span></span><br><span class="line"><span class="built_in">sudo</span> /etc/init.d/lirc restart</span><br></pre></td></tr></table></figure>
<p><strong>注意：</strong>配置gpio_in_pin和gpio_out_pin时，编号为GPIO号，并非pin号</p>
<p><strong>启动测试</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> mode2 -d /dev/lirc0</span><br></pre></td></tr></table></figure>
<p>红外接收器已经打开，处于监听状态。这个时候，利用任何红外发射器（可以是电视遥控器或其他遥控器）对红外接收模块按任意按钮，就可以在树莓派终端上看到类似如下的代码</p>
<p>看到这个代码便证明红外接收模块是正常工作的。</p>
<p>如果没有看到，请检查你的接线、电压、以及通过<strong>lsusb</strong>查看是否加载了相应模块。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pulse 1681</span><br><span class="line">space 4816</span><br><span class="line">pulse 1695</span><br><span class="line">space 4784</span><br><span class="line">pulse 1333</span><br><span class="line">space 3638</span><br></pre></td></tr></table></figure>
<h2 id="录制解析控制码">录制解析控制码</h2>
<ol type="1">
<li>开始录制</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">irrecord -d /dev/lirc0 ~/lircd.conf <span class="comment">#按照提示操作即可,录制完后会让你输入按键名</span></span><br></pre></td></tr></table></figure>
<ol start="2" type="1">
<li>查看可用键名列表</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">irrecord --list-namespace</span><br></pre></td></tr></table></figure>
<ol start="3" type="1">
<li>将已录制的编码加载进 <em>lirc</em> 配置参数</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">cp</span> ~/lircd.conf /etc/lirc/lircd.conf</span><br></pre></td></tr></table></figure>
<h1 id="通过树莓派发射红外编码">通过树莓派发射红外编码</h1>
<ol type="1">
<li>启动lircd服务</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> lircd -d /dev/lirc0</span><br></pre></td></tr></table></figure>
<ol start="2" type="1">
<li>查看录制好可以使用的键名</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">irsend LIST /home/pi/lircd.conf <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure>
<ol start="3" type="1">
<li>发送红外编码</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">irsend SEND_ONCE /home/pi/lircd.conf KEY_XXX</span><br></pre></td></tr></table></figure>
<p><strong>演示效果</strong></p>
<video src="https://raw.githubusercontent.com/smilelc3/blog/main/images/树莓派(一代B+版)+红外收发管+智能小车——实现小车远程控制/VID_20170701_211221_1-1.mp4" controls preload="metadata">
</video>
<hr />
<p><strong>关于录制带逻辑编码的红外编码</strong></p>
<p>一个比较令人兴奋的消息，谢谢博客<a
target="_blank" rel="noopener" href="http://blog.just4fun.site/raspberrypi-lirc.html"
class="uri">http://blog.just4fun.site/raspberrypi-lirc.html</a>的帮助，直接发送raw原始码就可以实现简单的控制程序。😘</p>
<p><strong>注意：</strong>其只能使用raw原始码，记录是通过mode2命令实现。</p>
<ol type="1">
<li>制作模版（不设置按键，初始化玩直接跳过）</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> /etc/init.d/lirc restart</span><br><span class="line">irrecord  -f -d /dev/lirc0 ~/lircd.conf</span><br></pre></td></tr></table></figure>
<ol start="2" type="1">
<li>录制需要实现的按键</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mode2  -d /dev/lirc0 &gt; /tmp/temp.code  </span><br><span class="line"><span class="built_in">cat</span> /tmp/temp.code | sed -n <span class="string">&#x27;2,$p&#x27;</span> | grep -o  -E <span class="string">&quot;[0-9]+&quot;</span> | xargs <span class="built_in">echo</span>  <span class="comment"># 移除第一行,之后把所有数字取出</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 把上述指令写入 ~/lircd.conf 的 KEY_OPEN里</span></span><br><span class="line"><span class="comment"># 值得注意的是 ~/lircd.conf文件里的空格十分重要</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">cp</span> ~/lircd.conf /etc/lirc/lircd.conf</span><br><span class="line"><span class="built_in">sudo</span> /etc/init.d/lirc restart</span><br><span class="line"><span class="comment"># irsend LIST /home/pi/lircd.conf &quot;&quot; #列出指令</span></span><br></pre></td></tr></table></figure>
<ol start="3" type="1">
<li>最后一个参考格式的<strong><em>lircd.conf</em></strong>文件（保证空格正确）</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">begin remote</span><br><span class="line"></span><br><span class="line">  name  /home/pi/lircd.conf</span><br><span class="line">  flags RAW_CODES</span><br><span class="line">  eps            30</span><br><span class="line">  aeps          100</span><br><span class="line"></span><br><span class="line">  gap          8015</span><br><span class="line"></span><br><span class="line">      begin raw_codes</span><br><span class="line"></span><br><span class="line">          name KEY_POWER</span><br><span class="line">               8927 4522 531 1711 551 1706 559 598 549 599 551 600 551 598 551 597 552 1719 558 597 549 1715 549 1724 540 614 535 592 559 597 550 599 551 610 551 602 549 598 553 1706 558 598 549 601 549 599 550 601 548 614 551 593 557 1717 545 598 551 598 552 598 552 599 549 598 553 1720 556 597 563 589 549 600 549 601 549 607 545 593 555 599 551 614 548 598 551 598 551 600 550 594 604 548 555 597 551 599 551 597 573 7967 558 597 549 598 548 603 548 601 554 598 550 599 550 600 545 619 549 600 545 599 556 598 551 600 549 611 541 597 551 599 551 609 548 601 555 598 552 596 554 598 550 598 563 587 551 600 543 615 556 598 550 598 551 599 576 574 552 596 552 598 552 613 538 612 551 595 552 597 553 598 552 599 552 596 552 1720 545 596 552 610 551 599 551 599 575 575 551 593 559 595 553 598 552 598 549 612 552 598 551 1705 559 597 574 1689 550 1724 540 598 552 592 559 609 553 599 548 598 552 1711 551 1705 560 1708 553 1711 550 599 553 1716 563 7970 559 597 551 600 573 578 550 599 551 600 575 573 565 589 575 586 552 1710 554 597 556 596 553 597 549 604 552 600 550 599 551 614 551 598 552 599 552 599 548 602 553 598 550 1713 552 599 552 613 593 558 545 604 564 586 552 598 552 598 554 595 554 601 546 617 546 607 550 597 551 611 541 597 553 598 553 598 580 572 548 615 552 599 554 596 552 599 551 598 554 598 547 614 536 604 552 609 554 1714 548 598 556 597 548 599 553 601 553 1711 553 598 553 593 549</span><br><span class="line"></span><br><span class="line">      end raw_codes</span><br><span class="line"></span><br><span class="line">end remote</span><br></pre></td></tr></table></figure>
<ol start="4" type="1">
<li>启动服务，运行指令</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> lircd -d /dev/lirc0</span><br><span class="line">irsend SEND_ONCE /home/pi/lircd.conf KEY_POWER</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://liuchang.men/2017/06/22/Android-Nougat(7.1.1)%E7%9A%84%E5%8E%9F%E7%94%9F%E4%BD%93%E9%AA%8C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="smile">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="生命不息，奋斗不止">
      <meta itemprop="description" content="smile's blog">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | 生命不息，奋斗不止">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/06/22/Android-Nougat(7.1.1)%E7%9A%84%E5%8E%9F%E7%94%9F%E4%BD%93%E9%AA%8C/" class="post-title-link" itemprop="url">Android-Nougat(7.1.1)的原生体验</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-06-23 00:00:00" itemprop="dateCreated datePublished" datetime="2017-06-23T00:00:00+08:00">2017-06-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2026-02-01 09:23:06" itemprop="dateModified" datetime="2026-02-01T09:23:06+08:00">2026-02-01</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.9k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img data-src="https://raw.githubusercontent.com/smilelc3/blog/main/images/Android-Nougat(7.1.1)的原生体验/marlin-black-en_US-1.jpg" /></p>
<p>本人常用Mi5s,伴随着MIUI9（7.0）内测，实在等不急官网放MIUI的包（其实是不想使用MIUI，设计风格跟原生差异太大）。</p>
<p>这几天就靠着以前的所积累的刷机经验，并且刷上刚适配的lineage os
(CM14.1)，以此为基础，替换AOSP（<em>Android Open-Source
Project</em>）编码的应用。</p>
<p>再加 上<em>pixel launcher</em>
谷歌“<strong>亲儿子</strong>”的美化和<em>Nougat</em>的优化，对原生的安卓顿生好感。</p>
<p>当然，刷机过程也是比较曲折的，但总算没有白费精力，为了以后类似操作便捷，特地记录一下。</p>
<h1 id="step1-小米官网解锁fastboot">Step1: 小米官网解锁fastboot</h1>
<p>​
小米自从mi4后，为了增强安全性（防止大家乱刷机），至底层加入bl锁，导致刷入第一步需解锁，但刷机有风险，一旦解锁，就失去保修机会，且修改不可逆，小米会将设备解锁信息在服务器上保存，谨慎操作！</p>
<ul>
<li>解锁网址：<a
target="_blank" rel="noopener" href="http://http//www.miui.com/unlock/index.html">http://www.miui.com/unlock/index.html</a></li>
<li>解锁步骤：<a
target="_blank" rel="noopener" href="http://https//jingyan.baidu.com/article/29697b9103205dab20de3c33.html">https://jingyan.baidu.com/article/29697b9103205dab20de3c33.html</a></li>
</ul>
<h1 id="step2-adb刷入第三方recoverytwrp">Step2:
adb刷入第三方recovery(TWRP)</h1>
<ol type="1">
<li>去<a target="_blank" rel="noopener" href="https://twrp.me/"
class="uri">https://twrp.me/</a>下载最新的TWRP(我当时最新版本3.1.1.0)，为之后刷第三方系统做准备，并用adb(Android
Debug Bridge)工具包刷入TWRP</li>
</ol>
<p>ADB下载地址：<a target="_blank" rel="noopener" href="http://adbshell.com/downloads"
class="uri">http://adbshell.com/downloads</a> 选择ADB Kits</p>
<ol start="2" type="1">
<li>手机关机进入fastboot模式（音量键下+电源键），USB连接电脑，装上驱动（用官方驱动或者第三方驱动安装软件）</li>
</ol>
<p>powershell 刷入命令</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\fastboot flash recovery XXX.img</span><br></pre></td></tr></table></figure>
<ul>
<li>XXX.img代表TWRP所下载的文件名</li>
</ul>
<ol start="3" type="1">
<li>最后输入命令重启，再关机，按住 音量键上+电源键 进入recovery模式</li>
</ol>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\fastboot reboot</span><br></pre></td></tr></table></figure>
<h1 id="setp3-刷入lineage-oswith-root">Setp3: 刷入lineage os(with
root)</h1>
<p>去<em>lineage
os</em>官网下载<em>rom</em>包和<em>root</em>包，在<em>recovery</em>模式下，用<em>TWRP</em>依次刷入两个包</p>
<p>网址：<a target="_blank" rel="noopener" href="https://download.lineageos.org/"
class="uri">https://download.lineageos.org/</a></p>
<p><strong>注意：根据设备cpu类型选择root包（我的是arm64,安卓7.1）</strong></p>
<h1 id="step4-刷入opengappsaroma">Step4: 刷入openGapps（aroma）</h1>
<p>网址：<a target="_blank" rel="noopener" href="http://opengapps.org/"
class="uri">http://opengapps.org/</a></p>
<p>根据设备类型选择包</p>
<ul>
<li><p><strong>aroma ：</strong>
图形化安装版本，可以自定义所需刷入的应用。（但有些机型会由于recovery的原因无法使用）。</p></li>
<li><p><strong>super
：</strong>最为完备的版本，该有的和不该有的都有了（比如日语输入法、注音输入法、等大陆用户基本上不会需要的应用）</p></li>
<li><p><strong>stock</strong> ：包括 nexus
出厂所具备的所有应用，在安装好 CM 、魔趣等系统后，刷入该包会自动替换掉
Aosp 的应用 ，比如 Google 相机、Gmail、Google Now 桌面、Google
相册分别替换掉 Aosp所带的 相机、 邮件、桌面、相册等，当然
Google全家桶的其他软件如 Gooele Play、Youtube、地图、Gooele
keep等也会随之刷入你手机。</p></li>
<li><p><strong>full ：</strong>与 stock 唯一区别就在于不会替换掉 Aosp
应用。</p></li>
<li><p><strong>mini、micro、nano、pico</strong>
<strong>：</strong>依次减少应用，但都具备 Google service 和
Play</p></li>
</ul>
<p>推荐<strong>nano</strong>包，但下载时需要一个稳定的梯子，建议用chrome直接下载，最后用TWRP刷入既可。</p>
<h1 id="step5-精简部分不需要系统应用修改hosts">Step5:
精简部分不需要系统应用+修改hosts</h1>
<p>该布操作最简单，但比较繁琐，用<em>root</em>删除掉内置的一些不需要使用的<em>google</em>应用，比如其他语言输入法，删除完后重启手机一次。</p>
<p>用<em>go hosts
APP</em>替换掉原始<em>hosts</em>，使设备能直接访问谷歌（该操作并不完美，但可以用做备用）</p>
<h1 id="step6-刷入magisk框架并接入viperfx音效">Step6:
刷入Magisk框架并接入viperfx音效</h1>
<p>因为手机并不自带音效改善软件，且不带HIFI模块的手机插手机的音效很差，所以这里刷入现在口碑最好的<em>viperfx</em>音效，但直接刷入时会存在<em>I/O</em>报错，<em>root</em>报错等原因，所以这里借助<em>Magisk</em>框架修改系统API接口实现同等功能</p>
<p>Magisk 下载网址：<a
target="_blank" rel="noopener" href="https://forum.xda-developers.com/apps/magisk/official-magisk-v7-universal-systemless-t3473445"
class="uri">https://forum.xda-developers.com/apps/magisk/official-magisk-v7-universal-systemless-t3473445</a></p>
<ol type="1">
<li>先TWRP刷入<a target="_blank" rel="noopener" href="http://tiny.cc/latestmanager">Magisk</a> ；</li>
<li>再开机安装<a target="_blank" rel="noopener" href="http://tiny.cc/latestmanager">Magisk Manager</a>
apk；</li>
<li>最后在magisk中安装viperfx即可。</li>
</ol>
<p><strong>最终效果图</strong></p>
<p><img data-src="https://raw.githubusercontent.com/smilelc3/blog/main/images/Android-Nougat(7.1.1)的原生体验/Screenshot_20170622-234628-1.png" /></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/page/11/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><span class="page-number current">12</span><a class="page-number" href="/page/13/">13</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/13/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2026</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">smile</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">184k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">2:48</span>
  </span>
</div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/smilelc3" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"smilelc3/smilelc3.github.io","issue_term":"pathname","theme":"github-dark"}</script>
<script src="/js/third-party/comments/utterances.js" defer></script>

</body>
</html>
